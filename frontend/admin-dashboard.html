<h1>Painel Admin</h1>

<h2>Usuários</h2>
<div id="usersDiv"></div>

<h2>Pagamentos Kwik</h2>
<div id="paymentsDiv"></div>

<script>
const token=localStorage.getItem("adminToken")
if(!token) window.location="admin-login.html"

async function loadUsers(){
const res=await fetch("http://localhost:5000/api/admin/users",{
headers:{Authorization:"Bearer "+token}
})

const users=await res.json()
usersDiv.innerHTML=users.map(u=>`<p>${u.name} - ${u.email}</p>`).join("")
}

async function loadPayments(){
const res=await fetch("http://localhost:5000/api/admin/payments",{
headers:{Authorization:"Bearer "+token}
})

const payments=await res.json()
paymentsDiv.innerHTML=payments.map(p=>`
<p>${p.userId?.email} — ${p.amount} kz — ${p.status}</p>
`).join("")
}

loadUsers()
loadPayments()
</script>
